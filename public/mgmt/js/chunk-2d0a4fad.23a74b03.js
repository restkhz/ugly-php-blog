(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4fad"],{"096d":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"card"},[t._m(0),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("table",{staticClass:"table is-striped"},[t._m(1),i("tbody",t._l(t.posts,(function(s,e){return i("tr",{key:s.pid},[i("th",[t._v(t._s(s.pid))]),i("td",[i("a",{attrs:{href:t.postLink(s.url)}},[t._v(t._s(s.title))])]),i("td",[t._v(t._s(t.formatDate(s.create_time)))]),i("td",[t._v(t._s(t.formatDate(s.update_time)))]),i("td",[t._v(t._s(s.views))]),i("td",[i("a",{on:{click:function(i){return t.gotoEdit(s.pid)}}},[t._v("Edit")]),t._v(" | "),1==s.status?i("a",{on:{click:function(i){return t.hideSwitch(s.pid,0,e)}}},[t._v("Hide")]):t._e(),t._v(" | "),1==s.status?i("a",{on:{click:function(i){return t.hideSwitch(s.pid,-1,e)}}},[t._v("Block")]):t._e(),0==s.status?i("a",{on:{click:function(i){return t.hideSwitch(s.pid,1,e)}}},[t._v("Show")]):t._e(),-1==s.status?i("a",{on:{click:function(i){return t.hideSwitch(s.pid,0,e)}}},[t._v("Unblock")]):t._e()])])})),0)])])])])},n=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-size-4"},[t._v(" Posts: ")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("thead",[i("th",[t._v("PID")]),i("th",[t._v("Title")]),i("th",[t._v("Create at")]),i("th",[t._v("Update at")]),i("th",[t._v("Views")]),i("th",[t._v("Operations")])])}],a={data:function(){return{posts:[]}},methods:{onLoad:function(){var t=this;this.$axios.get("/postsmgmt/listposts").then((function(s){console.log(s.data),t.posts=s.data.data,console.log(t.posts)}))},gotoEdit:function(t){this.$router.push({name:"EditPost",params:{pid:t}})},hideSwitch:function(t,s,i){var e=this;this.$axios.post("/postsmgmt/visibility",{pid:t,status:s}).then((function(t){e.posts[i].status=s}))},postLink:function(t){return"/post/"+t},formatDate:function(t){var s=this.$moment.unix(t);return s.format("YYYY/MM/DD HH:mm:ss")}},created:function(){this.onLoad()}},o=a,c=i("2877"),r=Object(c["a"])(o,e,n,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0a4fad.23a74b03.js.map